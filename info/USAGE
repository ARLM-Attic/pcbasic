PC-BASIC 3.23 USAGE

PC-BASIC is a free, cross-platform interpreter for GW-BASIC, BASICA, 
PCjr Cartridge Basic and Tandy 1000 GW-BASIC. It interprets the BASIC 
dialects with a high degree of accuracy, aiming for bug-for-bug compatibility.
PC-BASIC also emulates the most common video and audio hardware supported by 
these BASIC dialects in their time.


SYNOPSIS

  pcbasic [program_or_package] [convert_output] [options]


OPTIONS

  A program or zip package can be specified as the first argument. If 
  a program is specified, it will be run. If a package is specified, its 
  PCBASIC.INI will be loaded; usually, it will run a packaged program file.
  This behaviour is affected by the --run, --load and --convert options.
  If no options are present, the interpreter will run in interactive mode.

  -t
            Use text-based interface. Same as --interface=text. 

  --append [=True|=False]
            Append to output_file, do not overwrite. Use with --output.

  --aspect=x,y          
            Set the display aspect ratio to x/y. Graphical interface only.
            
  --blocky [=True|=False]
            Choose whole multiples of pixel size for display and
            do not smoothen. Overrides --aspect. Graphical interface only.
            
  --border=width       
            Width of the screen border as a percentage 0-100. The percentage
            refers to the total width of the borders on both sides as a fraction
            of the usable screen width. Graphical interface only.
  
  --caption=title
            Set the title of the PC-BASIC window. Default is "PC-BASIC 3.23".
            
  --capture-caps [=True|=False]
            Handle CAPS LOCK. This may collide with the operating system's own 
            handling.
            
  --cga-low [=True|=False]
            Use low-intensity palettes in CGA. This only has an effect on 
            emulated cga, ega or vga cards.
            
  -b
            Use command-line text interface. Same as --interface=cli. 
            
  --codepage=codepage-id
            Load the specified codepage. The codepage determines which 
            characters are associated to a given character byte or, in the
            case of double-byte codepages, two character bytes. PC-BASIC 
            specifies codepages through a mapping to Unicode. The available
            codepages depend on which mappings are stored in the encodings/
            directory. By default, the following codepages are available:
                        437     United States PC-ASCII (default)
                        737     Greek
                        775     Baltic Rim (Estonian, Latvian and Lithuanian)
                        850     Latin 1 (Western European languages)
                        851     Greek 1
                        852     Latin 2 (Central European languages)
                        853     Latin 3 (Southern European languages)
                        855     Cyrillic 1
                        856     Hebrew
                        857     Latin 5 (Turkish)
                        858     Latin 1 with Euro
                        860     Portuguese
                        861     Icelandic
                        862     Hebrew
                        863     Canadian French
                        864     Arabic
                        865     Nordic (Danish and Norwegian)
                        866     Cyrillic 2 (Russian)
                        869     Greek 2 
                        874     Thai
                        932     Japanese
                        936     Simplified Chinese (GBK)
                        949     Korean
                        950     Traditional Chinese (Big-5)
                       1258     Vietnamese
               Georgian-academy Georgian Academy Standard
               Georgian-ps      Georgian Parliament Standard
               Iransystem       Iran System (Farsi)
               Kamenicky        Kamenick√Ω Encoding (Czech)    
               Mazovia          Mazovia Encoding (Polish)
               armscii8a        ArmSCII-8a (Armenian) 
               big5-2003        Big-5 (Traditional Chinese, Taiwan)
               big5-hkscs       Big-5 (Traditional Chinese, Hong Kong)
               mik              MIK Encoding (Bulgarian)
               viscii           VISCII (Vietnamese)
            Codepages are not offically standardised, but for those 
            represented by a number in this list the implementation by 
            IBM and Microsoft has been largely consistent. Some codepages
            that have been assigned numbers inconsistently or whose numbers 
            conflict with others have been assigned a name instead.
            Some languages remain woefully underrepresented in this list, 
            most notably the Indic languages. If you have information on 
            codepages in common use in the days of GW-BASIC but not represented
            in this list, please contact the author.
               
  --config=ini-file
            Read a configuration file. The default configuration file 
            info/PCBASIC.INI is always read, but any preset section in a
            specified configuration file replaces the whole equivalent section
            in the default file.

  --com1=TYPE:VAL       
            Attach a resource to the COM1: serial device. TYPE:VAL can be
                PORT:device_name        connect to a serial device
                                        such as COM1 (--com1 PORT:COM1)
                                        or /dev/ttyS0     
                SOCKET:host:socket      connect to a TCP socket on 
                                        a remote or local host.
            If not specified, the COM1 device is unavailable.                            
            
  --com2=TYPE:VAL       
            Attach a resource to the COM2: serial device. See --com1.
  
  --convert=mode
            Convert program to mode=A,B,P for ASCII, Bytecode or Protected mode.
            If convert_output is not specified, write to standard output.
            If program is not specified, use the argument of --run or --load. 
            If none of those are given, read from standard input. 
            Overrides --resume, --run and --load.
           
  --debug 
            Debugging mode. This enables crash tracebacks and the DEBUG 
            statement. For the DEBUG statement, the source code is your 
            documentation ;)
            
  --dimensions=X,Y      
            Set window dimensions to X by Y pixels. This overrides
            --blocky and --aspect. Graphical interface only.
            
  -d          
  --double [=True|=False]
            Allow double-precision transcendental math functions. This is
            equivalent to the /d option in GW-BASIC.
         
  -e=command_line          
  --exec=command_line
            Execute BASIC command line. The specified commands are executed 
            before entering into interactive mode or running a program. 
            
  --font=font_name[,font_name ...]
            Load current codepage from specified .hex fonts. The last
            fonts specified take precedence, previous ones are
            fallback. Default is unifont, univga, freedos (i.e. freedos has
            preference). The available fonts depend on what is stored in font/.
            By default, the following fonts are available:
                unifont     GNU UniFont (16-pixel only, all Unicode BMP)
                univga      Uni-VGA Font (16-pixel only)
                freedos     FreeDOS CPIDOS Font (8, 14, 16-pixel)
            The following fonts only contain the glyphs for code page 437:    
                cga         IBM Colour/Graphics Adapter Font (8-pixel only)
                mda         IBM Monochrome Display Adapter Font (14-pixel only)
                vga         IBM Video Graphics Array Font (8, 14, 16-pixel)
                olivetti    Olivetti/AT&T Font (16-pixel only)
                tandy1      Tandy-1000 Font old version (8-pixel only)
                tandy2      Tandy-1000 Font new version (8-pixel only)
            GNU UniFont contains glyphs for all the defined code points
            of the Basic Multilingual Plane of Unicode 7.0, which makes it
            an excellent fallback font. Its glyphs are not, however, very 
            similar to those that were used on DOS machines; both Uni-VGA
            and the FreeDOS CPIDOS fonts are therefore more suitable, when
            they have the required glyphs.
            
  --fullscreen=[True|False]
            Fullscreen mode. Graphical interface only.
            
  -h
  --help
            Show a usage message and exit.

  -i
            This option is ignored. It is included for compatibility with 
            GW-BASIC /i.

  --input=input_file    
            Retrieve keyboard input from input_file, 
            except if KYBD: is read explicitly. Input from KYBD: files remains
            read from the keyboard, following GW-BASIC behaviour.
            
  --interface={none|cli|text|graphical}
            Choose the type of interface. When redirecting i/o, the
            default is none; otherwise, default is graphical. The following
            interface types are available:
                none        Filter for use with pipes.
                cli         Command-line interface.
                text        Text-based interface.
                graphical   Graphical interface.
         
  -k=keystring   
  --keys=keystring
            Insert keys into the key buffer. 
         
  -l=program               
  --load=program
            Load the specified .BAS program and return to interactive mode.
            
  --logfile=log
            Write error and warning output to log file instead of stderr.
                      
  --lpt1=TYPE:VAL       
            Attach a resource to the LPT1: parallel device. TYPE:VAL can be
                PARPORT:device_name     Connect to a parallel device
                                        such as LPT1 (--lpt1 PARPORT:LPT1)
                                        or /dev/parport0     
                PRINTER:printer_name    Connect to a Windows or CUPS printer.
                                        If printer_name is not specified, the
                                        default printer is used.
                FILE:file_name          Connect to any file or to a character 
                                        device such as /dev/stdout.
            If not specified, LPT1: is available but its output is ignored.            
            
  --lpt2=TYPE:VAL       
            Attach a resource to the LPT2: parallel device. See --lpt1.
            If not specified, LPT2: is unavailable.            
            
  --lpt3=TYPE:VAL       
            Attach a resource to the LPT3: parallel device. See --lpt1.
            If not specified, LPT3: is unavailable.            
            
  --map-drives [=True|=False]
            Map all Windows drive letters to PC-BASIC drive letters. 
            Windows only.
            
  -f=number_of_files
  --max-files=number_of_files 
            Set maximum number of open files (default is 3). 
            This is equivalent to GWBASIC's /f option.
  
  -m=max_memory[,basic_memory_blocks]
  --max-memory=max_memory[,basic_memory_blocks]
            Set the maximum size of the data memory segment to max-memory
            and the maximum size of the data memory available to BASIC to
            basic_memory_blocks*16. In PC-BASIC, the minimum of these values
            is simply the data memory size; the two values are allowed for 
            compatibility with GW-BASIC /m. 
  
  -s=record_length
  --max-reclen=record_length, 
            Set maximum record length for RANDOM files. 
            Default is 128, maximum is 32767.
            This is equivalent to GWBASIC's /s option.
            
  --monitor={rgb|composite|mono}
            Sets the monitor type to emulate. Available types:
                rgb         RGB colour monitor (default).
                composite   Composite colour monitor. Enables colour
                            artifacts on SCREEN 2 (crudely). Requires 
                            --video={pcjr|tandy|cga|cga_old}.
                mono        Monochrome monitor.
                
  --mono-tint=r,g,b     
            Specify the monochrome tint as RGB, each in the range 0--255.
            
  --mount=D:path,[D:path ...]
            Assign a drive letter to a path. Path can be absolute or relative.
            By default, C: is mapped to the current working directory.
            
  --mouse=left,middle,right
            Set the functions of the three mouse buttons. 
            Available functions are:
                copy    Select and copy to clipboard.
                paste   Paste from clipboard.
                pen     Light pen emulation.
            On Android, touch is mapped to the light pen.

  --nobox [=True|=False]
            Disable box-drawing recognition for DBCS code pages. 
            By default, sequences of box-drawing characters are recognised by
            an algorithm that isn't as smart as it thinks it is, and displayed
            as box drawing rather than as DBCS characters. If --nobox is set,
            they will be displayed as DBCS.

  --nokill [=True|=False]
            Allow BASIC to capture <ALT+F4>. Graphical interface only. By 
            default, <Alt+F4> is captured by most operating systems as a quit
            signal, and will terminate PC-BASIC. Set --nokill to allow BASIC
            to capture <Alt+F4> instead. This is useful if your program uses
            this key combination.
            
  --nosound [=True|=False]
            Disable sound output.
  
  --output=output_file  
            Send screen output to output_file, except if SCRN: is
            written to explicitly. Output to SCRN: files will be shown on
            the screen, as in GW-BASIC.
  
  --pcjr-term=TERM.BAS  
            Set the terminal program run by the PCjr TERM command. 
            This only has an effect with --syntax={pcjr|tandy}.
  
  --peek=[seg:addr:val,[seg:addr:val ...]]
            Define PEEK preset values. If defined, DEF SEG:? PEEK(addr) will
            return val.
  
  --preset=preset-option     
            Load machine preset options. A preset option corresponds to a 
            section defined in a config file by a name between square brackets,
            like [this]. --preset=this will load all settings defined in that
            section. Available presets depend on your PCBASIC.INI. 
            By default, the following presets are available, wich specify
            diffrent emulation targets:
                pcjr        IBM PCjr with Cartridge BASIC.
                tandy       Tandy 1000. 
                olivetti    Olivetti M24 or AT&T PC 6300.
                cga         IBM or compatible with Color/Graphics Adapter.
                ega         IBM or compatible with Extended Graphics Adapter.
                vga         IBM or compatible with Video Graphics Array.
                mda         IBM or compatible with Monochrome Display Adapter 
                            and green-tinted monochrome monitor.
                hercules    IBM compatible with Hercules Graphics Adapter and 
                            green-tinted monochrome monitor.
                strict      Choose strict compatibility with GW-BASIC over
                            convenience or security. 

  -q
  --quit [=True|=False]
            Quit interpreter when execution stops. If combined with --run, this
            is when the program ends; in interactive mode, after the first 
            command is executed.
  
  --reserved-memory=amount
            Reserve amount of bytes at the bottom of the data segment. For
            compatibility with GW-BASIC. Default is 3429 bytes. Lowering this
            value makes more string and variable space available for use by
            programs.
  
  --resume [=True|=False]
            Resume from saved state. Overrides --run and --load.
  
  -r=program
  --run=program
            Run the specified .BAS program. Overrides --load.
  
  -c=size
  --serial-buffer-size=size, 
            Set serial input buffer size (default is 256). If set to 0,
            serial communications are disabled.
  
  --state=state_file   
            Set the save-state file. Default is info/PCBASIC.SAV
  
  --strict-hidden-lines [=True|=False]
            Disable listing and ASCII saving of lines beyond 65530
            (as in GW-BASIC). Use with care as this allows
            execution of invisible statements.
  
  --strict-newline [=True|=False]
            Parse CR and LF in files strictly like GW-BASIC. 
            On Unix, you will need to convert your files to DOS text first
            if using this.
  
  --strict-protect [=True|=False]
            Disable listing and ASCII saving of protected files
            (as in GW-BASIC). Use with care as this allows
            execution of invisible statements.
  
  --syntax={advanced,pcjr,tandy}
            Choose BASIC dialect. Available dialects:
                advanced    Microsoft GW-BASIC and IBM BASICA (default).
                pcjr        IBM PCjr Cartridge BASIC
                tandy       Tandy 1000 GW-BASIC.
  
  --utf8 [=True|=False]
            Use UTF-8 for ascii-mode programs and redirected i/o. If set, 
            programs stored as ascii (rather than bytecode) will be converted
            from UTF-8 on LOAD and to UTF-8 on SAVE. Redirected input and output
            is also converted to and from UTF-8.
  
  -v
  --version
            Print PC-BASIC version and exit.
  
  --video=card
            Set the video card to emulate. Available video cards:
                vga         Video Graphics Array
                ega         Enhanced Graphics Adapter
                cga         Color/Graphics Adapter
                cga_old     Color/Graphics Adapter (old version; affects composite)
                mda         Monochrome Display Adapter
                hercules    Hercules Graphics Adapter
                pcjr        IBM PCjr graphics
                tandy       Tandy 1000 graphics
                olivetti    Olivetti M24 graphics
                

EXAMPLES

    pcbasic
            Start PC-BASIC in interactive mode, emulating GW-BASIC/BASICA
            with VGA graphics.
    
    pcbasic --codepage=950
            Start PC-BASIC in default mode but using the Traditional Chinese 
            codepage.
    
    pcbasic Foobar.baz
            Start PC-BASIC with package Foobar. Load the settings from the
            package; usually this will run a main program contained in the 
            pazkage. 
            
    pcbasic Foobar.baz --convert=A --utf8
            List the main program of package Foobar to standard output as UTF-8.
    
    pcbasic MYPROG.BAS --mount=A:./files,B:./morefiles     [unix]
    pcbasic MYPROG.BAS --mount=A:.\\files,B:.\\morefiles   [windows]
            Attach the current directory's subdirectory files as drive A:
            and subdirectory morefiles as drive B:, then run MYPROG.BAS.
            On Windows, mounts can also be specified as --mount=A:C:\\fakeflop 
    
    pcbasic @:\\INFO.BAS --preset=mda --mono-tint=255,128,0
            Run the information program included with PC-BASIC on 
            an emulated MDA with amber tinted monitor.
    
    pcbasic /home/me/retro/COMP.BAS --preset=cga --monitor=composite
            Run COMP.BAS stored at /home/me/retro on an emulated CGA machine
            with a composite monitor.
    
    pcbasic PCJRGAME.BAS --preset=pcjr -k='start\r'
            Run PCJRGAME.BAS on an emulated PCjr and feed in the keystrokes 
            start<ENTER>.
    
    pcbasic BANNER.BAS --lpt1=PRINTER:    
            Run BANNER.BAS in default mode with the default printer connected
            to LPT1:.

    pcbasic --resume
            Resume the last closed PC-BASIC session.
    
    pcbasic -qbe="?1+1"
            Execute the BASIC command PRINT 1+1 in the command-line interface 
            and return to the calling shell.


PACKAGES
    
    PC-BASIC can run packaged applications. A package is simply a zip file
    that contains (at least) a configuration file named PCBASIC.INI. Settings
    from the config file are loaded; usually, one of those settings will be a 
    run= argument linking to a BAS file enclosed in the zip container.
    A suggested extension for such packages is .BAZ, but PC-BASIC will 
    recognise packages regardless of extension. 
    Packages are unpacked to a temporary directory each time they are loaded.
    The temporary directory is removed when PC-BASIC closes and it is therefore 
    not possible to save emulator state or files and re-open them on the next 
    run of the package.


THE INTERFACE

    By default, PC-BASIC starts in interactive mode, where BASIC commands
    can be executed immediately or programs can be entered and edited.
    See the BASIC language reference in HELP for more information about
    using the interactive mode.
    
    In the graphical interface, you can copy and paste text to the clipboard
    using the mouse (by default, left button is select and copy; middle button 
    is paste) or the keyboard, if your operating system does not catch the
    Logo key (Windows key). Logo key + arrow keys selects; Logo + A 
    selects all; Logo + C copies; Logo + V pastes.
    
    In the command-line interface, the arrow keys can be used to move 
    horizontally on the current line being edited. Using the vertical arrow keys
    will show any screen lines above or below the current line. Copy and
    paste are available only if the calling shell provides them. In command-
    line mode, BASIC catches ctrl-C. You can close the interface using
    the end-of-file key combination (ctrl+D on Unix, ctrl+Z on Windows).
    
    On Unix systems, a curses-style text interface is available using ANSI
    escape codes. Operating this shell works largely the same as operating the
    graphical shell, but many Alt- and Ctrl-key combinations are not 
    available.
    
    Attempting to open a graphical screen in the command-line or text interface
    will lead to an "Illegal function call" error.

    
THE FILE SYSTEM

    PC-BASIC follows DOS file system conventions, where files consist of a 
    8-character name and 3-character extension and names are case insensitive.
    Note that DOS conventions are subtly different from Windows short filename 
    conventions and not-so-subtly different from Unix conventions. This may lead
    to surprising effects in the presence of several files that match 
    the same DOS name. To avoid such surprises, run PC-BASIC in a working 
    directory of its own and limit file names to all-caps 8.3 format.
    
    When opening a data file, PC-BASIC will first look for a file with the name 
    exactly as provided. This can be a long name and will be case sensitive if
    your file system is. If such a file is not found, it will truncate the name
    provided to 8.3 format and convert to all uppercase. If that exact name is
    not found, it will look for 8.3 names in mixed case which match the name
    provided in a case-insensitive way. Such files are searched in lexicographic
    order. On Windows, the name matched can be a short filename as well as a 
    long filename (provided it is of 8.3 length; it may, for example, contain 
    spaces).
    
    When loading or saving a program file, no attempt is made to find an exact 
    match. Instead, the search will first match the all-caps 8.3 version of the
    name and continue in lexicographic order as above. If no extension is 
    specified, the extension .BAS will be implicitly added. To load a program
    with no extension, end the filename in a dot. On file systems without
    short filenames, it is not possible to load a program if its filename is 
    longer than 8.3 or ends in a dot.
    
    The only valid path separator is the backslash (\). 
    
    By default, drive letter C: is mapped to the current working directory.
    In particular, it is not mapped to the Windows C: drive. Use --mount or 
    --map-drives to change this behaviour.
    
    The arguments to the --load and --run command-line options can be provided 
    as PC-BASIC paths or as paths in the standard form for your operating 
    system.
    

